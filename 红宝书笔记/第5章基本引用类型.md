# 基本引用类型

## 1.Date
#### 1.1.时间格式
- 时间戳
  - 时间戳是 格林尼治时间1970年01月01日00时00分00秒 至 现在 的总毫秒数。
  - 时间戳不会随着时区而改变，同一时刻的时间戳是一样的

- GMT与UTC
  - GMT是格林尼治时间，根据地球的自转和公转来计算时间，也就是太阳每天经过格林威治天文台的时间就是中午12点；UTC是协调世界时，根据原子钟计算时间，两者差别不大。
  - 但是GMT常用来表示时区，比如 GMT+0800 指东八区；UTC是一个时间标准。

- 时间的格式标准
  - RFC-2822标准格式
  ```javascript
  Fri Apr 09 2021 19:50:50 GMT+0800 (中国标准时间)
  //Fri Apr 09 2021 19:50:50 GMT+0800 (CST)
  ```
  - ISO-8601标准格式
  ```javascript
  YYYY-MM-DDTHH:mm:ss.sssZ

  YYYY: 年份
  MM：月份，01-12
  DD：日期，01-31
  T：分隔日期和时间
  HH：小时，00 ~ 24
  mm：分钟，00 ~ 59
  ss：秒，00 ~ 59
  .sss：毫秒
  Z：时区，可以是：Z（UFC）、+HH:mm、-HH:mm 

  //比如
  2021-04-09
  2021-04-09T12:02
  2021-04-09T12:02:53.369
  2021-04-09T12:02:53.369Z
  2021-04-09T12:02:+08:00
  ```
- 指定Z则为UTC时间，不指定Z为本地时间。

```javascript
new Date("2021-04-09T00:00")
//Fri Apr 09 2021 00:00:00 GMT+0800 (中国标准时间)		本地时间不用转换

new Date("2021-04-09T00:00Z")		
//Fri Apr 09 2021 08:00:00 GMT+0800 (中国标准时间)    UTC时间转为本地时间
```

#### 1.2.Date构造函数
- Date() 与 new Date()
  - 使用Date()一样可以取得当前时间，但是结果是字符串
  - Date()不能传参，只能获取当前时间，而new Date()可以
  ```javascript
  Date()
  //"Sat Apr 10 2021 01:32:21 GMT+0800 (中国标准时间)"

  typeof Date()
  //"string"

  new Date()
  //Sat Apr 10 2021 01:34:49 GMT+0800 (中国标准时间)

  typeof new Date()
  //"object"
  ```
- 传入new Date()的参数格式
  - 没有参数，返回实例化时刻的日期和时间
  - UNIX时间戳，一个整数值，表示自1970年1月1日00:00:00 UTC（the Unix epoch）以来的毫秒数
  ```javascript
  new Date(60*1000)
  //Thu Jan 01 1970 08:01:00 GMT+0800 (中国标准时间)
  ```
  - 时间戳字符串
  ```javascript
  //RFC标准：
  new Date("Fri Apr 09 2021 19:50:50 GMT+0800")
  //Fri Apr 09 2021 19:50:50 GMT+0800 (中国标准时间)

  //ISO标准：YYYY-MM-DDTHH:mm:ss.sssZ
  //没有前导0，被认为是本地时间，有0被认为是UTC时间
  new Date("2021-01-01")
  //Fri Jan 01 2021 08:00:00 GMT+0800 (中国标准时间)
  new Date("2021-1-1")
  //Fri Jan 01 2021 00:00:00 GMT+0800 (中国标准时间)  

  //加上Z被认为是UTC时间
  new Date("2021-01-01Z")
  //Fri Jan 01 2021 08:00:00 GMT+0800 (中国标准时间)
  new Date("2021-01-01T00:00Z")
  //Fri Jan 01 2021 08:00:00 GMT+0800 (中国标准时间)
  new Date("2021-1-1Z")
  //Fri Jan 01 2021 08:00:00 GMT+0800 (中国标准时间)
  new Date("2021-1-1T00:00Z")
  //错误 无效格式
  ```

  - 分别传入每个日期、时间。注意月份从0开始
  ```javascript
  new Date(年,月,日,时,分,秒,毫秒)
  //年、月为必选，其他可选
  //月 0-11
  //日 1-31
  ```

- 隐式调用
  - new Date() 传入时间戳字符串格式时，会隐式调用Date.parse()
  - new Date() 分别传入日期时，会隐式调用Date.UTC()

#### 1.3.Date方法
- Date.now()
  - 返回方法执行时 （自 1970-1-1 00:00:00  UTC至今所经过）的毫秒数
- Date.parse()
  - 解析一个日期字符串，（即符合RFC和ISO标准的日期字符串），返回从1970-1-1 00:00:00  UTC经过的毫秒数
```javascript
Date.parse("2021-1-1")
//1609430400000

Date.parse("2021-01-01")
//1609459200000   注意不同
```
- Date.UTC()
  - 解析分别传入的日期，返回从1970-1-1 00:00:00  UTC经过的毫秒数。

#### 1.4.继承的方法
Date类型重写了toLocaleString()、toString()、valueOf()

- toLocaleString() 返回与浏览器运行的本地环境一致的 日期和时
- toString() 返回 带时区信息的 日期和时间（即RFC格式的时间）
- toUTCString() 返回没有时区偏移的RFC格式时间
- valueOf() 返回从1970年1月1日0时0分0秒（UTC）到该日期的毫秒数。
```javascript
new Date("2021-01-01").toLocaleString()
//"2021/1/1上午8:00:00"
new Date("2021-01-01").toLocaleDateString()
//"2021/1/1"
new Date("2021-01-01").toLocaleTimeString()
"上午8:00:00"



new Date("2021-01-01").toString()
//"Fri Jan 01 2021 08:00:00 GMT+0800 (中国标准时间)"
new Date("2021-01-01").toDateString()
//"Fri Jan 01 2021"
new Date("2021-01-01").toTimeString()
//"08:00:00 GMT+0800 (中国标准时间)"


new Date("2021-01-01").valueOf()
//1609459200000

new Date("2021-01-01").toUTCString()
//"Fri, 01 Jan 2021 00:00:00 GMT"		注意没有时区偏移
```
- toJSON() ，使用ISO时间格式返回一个 JSON 格式字符串
```javascript
new Date("2021-01-01").toJSON()
//"2021-01-01T00:00:00.000Z"
```